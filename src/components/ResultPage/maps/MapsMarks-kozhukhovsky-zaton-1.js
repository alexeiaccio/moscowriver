import React, { Component, Fragment } from 'react'
import styled from 'styled-components'
import { key } from 'styled-theme'

const Svg = styled.svg`
  min-width: 650px;
  height: 500px;
  z-index: 1;
  @media (max-width: 1199px) {
    margin-left: -110px;
  }
  transition: all .2s ease-in-out;
`

const Map = styled.div`
  width: 650px;
  height: 500px;
  position: absolute;
  top: 0;
  right: 0;
  background: url(${({back}) =>  back}) no-repeat;
  transition: all .2s ease-in-out;
`

const MapsMarks = ({state, uid}) => {
  const MapsBack = require(`./maps-${uid}.png`)
  const getActive = (active) =>
    state.items[active]
      .map((item, i) => item && i)
      .filter(item => item)
      .join()

  return (
    <Fragment>
      <Map back={MapsBack} />
      <Svg width="650" height="500" viewBox="0 0 650 500" fill="none"  xmlns="http://www.w3.org/2000/svg"
      >
        <g id="Canvas" fill="none">
          {state.activeList === 1 &&
            <g id="maps_1" strokeLinecap="round">
              <path id="mark_1-0" d="M380.485 213.5C373.985 218.5 366.485 223 353.485 227C339.969 231.159 321.485 230.5 310.985 225C300.485 219.5 210.985 184 206.985 182C202.985 180 152.485 156 138.985 151.5C125.485 147 65.4854 135.841 47.9853 125.5C36.9853 119 5.48528 101.5 2.48528 89C-0.514719 76.5 -0.514719 63 0.985281 54.5C2.18528 47.7 4.15199 15.3333 4.98535 0"
                transform="translate(267.015 38)" stroke="#F05A5A" strokeWidth={state.items[1][0] ? 8 : 2} />
              <path id="mark_1-1" d="M0 -1C-0.552285 -1 -1 -0.552285 -1 0C-1 0.552285 -0.552285 1 0 1V-1ZM311.464 1C312.017 1 312.464 0.552285 312.464 0C312.464 -0.552285 312.017 -1 311.464 -1V1ZM0 1H311.464V-1H0V1Z"
                transform="translate(572 202) rotate(-149.744)" fill="#C4549A" stroke="#C4549A"  strokeWidth={state.items[1][1] ? 8 : 2} />
            </g>
          }
          {state.activeList === 0 &&
            <g id="maps_0">
              <path id="mark_0-6" d="M90.1917 2.39594L89.7476 2.67295C89.359 2.94997 88.8594 3.06077 88.4152 3.06077C87.9156 3.06077 87.3605 3.11617 86.9164 3.28238L82.3088 4.33504L80.5879 4.72286C79.9772 4.88907 79.3666 5.11069 78.867 5.38771L77.9788 6.16335L76.6465 7.16059C75.7583 7.82543 74.9255 8.60108 74.2039 9.48753L71.9278 12.0915L71.2061 12.9779C70.8175 13.4765 70.2069 13.809 69.5407 13.809L68.6525 13.6982H66.2655L63.1567 13.8644L61.991 13.9198L59.8815 13.4765C57.9385 13.1441 55.8845 13.532 54.1636 14.5292C53.4974 14.9724 52.9423 15.5265 52.5537 16.1913C52.1651 16.8561 51.3879 17.1886 50.6662 16.9669L49.667 16.7453L48.3902 16.2467C48.1126 16.1359 47.8906 16.1359 47.613 16.1359L46.5028 16.3575C46.2252 16.4129 45.9476 16.5237 45.7256 16.7453C45.448 17.0223 45.0594 17.1885 44.7263 17.3548L42.9499 18.1304L40.3408 19.6263L37.3986 20.9559L34.0678 22.7289L30.626 24.945L29.5712 25.6652L26.2959 27.4935L24.0754 28.5462L15.8039 32.2582C14.6937 32.7568 13.5834 33.3108 12.5286 33.8649L9.97503 35.2499C8.97579 35.804 7.92105 36.3026 6.8663 36.8012L6.0336 37.1891L3.92409 38.4079C3.70204 38.5187 3.47999 38.6849 3.25794 38.8511L2.14768 39.793C1.75908 40.1254 1.20395 40.4024 0.704328 40.4578C0.537788 40.4578 0.426751 40.4578 0.260212 40.347C-0.0173547 40.1808 -0.0728611 39.793 0.0936786 39.516L0.537778 38.5741C0.704318 38.2971 0.926374 38.0201 1.14843 37.7985L2.70281 36.5242L6.58874 34.3081L10.8632 32.3136L14.2496 30.9839L19.4678 28.2692L26.2959 24.945C27.1286 24.5018 28.0168 24.1693 28.9051 23.7815L31.5697 22.2856L33.1796 21.0114L35.1781 19.9033L38.8419 18.4074L41.9507 16.9669L47.613 14.363L53.2754 11.5374C53.9415 11.205 54.6632 10.8726 55.3294 10.5956L58.3271 9.43212C58.9932 9.15511 59.6594 8.9335 60.3811 8.71189C61.4358 8.37947 62.5461 8.15785 63.6563 7.99164C65.6548 7.65922 67.5423 6.93899 69.3187 5.88633C70.4845 5.16609 71.7613 4.72286 73.1491 4.66746C75.0366 4.50125 76.8685 4.05803 78.6449 3.33779L83.7522 1.50948L87.194 0.45683L87.8601 0.235213L89.2479 0.0136044C89.6365 -0.0417987 90.0806 0.0690057 90.3582 0.401424C90.6913 1.01086 90.6913 1.84191 90.1917 2.39594Z" transform="translate(267.455 276) rotate(16.448)" fill="#F0C41B" stroke="#F0C41B" strokeWidth={state.items[0][6] ? 10 : 0} />
              <path id="mark_0-5" d="M17 0H6L0 70L40 165.5L106.5 220.5L266 247.5L440 254L491 247.5V236.5C490.167 234.5 488 229.8 486 227C483.5 223.5 473.5 216.5 466.5 212C460.9 208.4 456.167 203.5 454.5 201.5L440 195.5C439.333 195.667 437.1 196.2 433.5 197C429.9 197.8 423.667 200.333 421 201.5C420.167 201.333 417.4 200.8 413 200C408.6 199.2 407.833 192.667 408 189.5C406 187.333 401.5 182.8 399.5 182C397.5 181.2 383.333 167.333 376.5 160.5C375 160 371.8 159.3 371 160.5C370 162 374.5 165 376.5 167.5C378.5 170 375.5 174 374.5 177C373.5 180 377 187.5 375.5 191C374 194.5 360.5 194 356 194.5C351.5 195 345 201.5 340.5 203C336.9 204.2 328.333 202.5 324.5 201.5C318.333 201.833 304.6 202 299 200C293.4 198 274.667 194.167 266 192.5L243.5 191.5C237 189.833 222.5 186.2 216.5 185C209 183.5 162 175 153 173C144 171 143 168.5 142.5 165.5C142 162.5 143.5 150.5 144.5 144C145.3 138.8 142.833 126.5 141.5 121C140.667 120 138.7 117.7 137.5 116.5C136 115 130.5 107 127.5 102.5C124.5 98 119 94.5 111 84C104.6 75.6 102.333 61.8333 102 56C97.5 51.5 87.3 41.8 82.5 39C76.5 35.5 64.5 35 56 33.5C47.5 32 45 25.5 40 23.5C36 21.9 27 22.8333 23 23.5L18.5 8.5H17V0Z"
                transform="translate(47.5 198.5)" fill="#53B36C" stroke="#53B36C" strokeWidth={state.items[0][5] ? 10 : 0} />
              <path id="mark_0-4" d="M17.6062 10.1269L8.00283 0L0 91.6755H10.6704L17.6062 10.1269Z" transform="translate(54 106.984)" fill="#F0C41B" stroke="#F0C41B" strokeWidth={state.items[0][4] ? 10 : 0}
              />
              <path id="mark_0-3" d="M174.462 81.0155L188.333 55.4317C186.733 55.4317 179.05 58.0967 171.794 58.0967C164.538 58.0967 155.788 55.4317 150.987 55.4317L19.7403 0L0 31.9798C11.9153 32.6905 37.8801 34.9646 46.4164 38.3758C54.9528 41.787 65.9789 54.3657 70.4249 60.2286L138.182 75.6855L174.462 81.0155Z"
                transform="translate(430.667 211.984)" fill="#53B36C" stroke="#53B36C" strokeWidth={state.items[0][3] ? 10 : 0} />
              <path id="mark_0-2" d="M110.973 27.1828C130.179 30.594 160.235 44.7717 172.861 51.7007L153.121 83.6805C123.244 83.5028 60.9282 82.1881 50.6846 80.4825C40.441 78.7769 12.6267 46.3707 0 30.3808L8.00283 24.5179L26.6761 0L41.6147 9.06095C56.7312 13.6803 91.7658 23.7717 110.973 27.1828Z"
                transform="translate(277.546 160.284)" fill="#F05A5A" stroke="#F05A5A" strokeWidth={state.items[0][2] ? 10 : 0} />
              <path id="mark_0-1" d="M0 12.7919V0C0 0 49.084 7.46196 61.3551 10.1269C73.6261 12.7919 88.2446 28.2488 116.841 36.7768C152.587 47.4367 155.788 56.4977 166.459 65.0256C174.995 71.848 184.243 74.9749 187.8 75.6855L170.194 99.6704L161.657 105L125.378 56.4977L55.4863 22.9189L0 12.7919Z"
                transform="translate(115.355 84.5996)" fill="#F0C41B" stroke="#F0C41B" strokeWidth={state.items[0][1] ? 10 : 0} />
              <path id="mark_0-0" d="M0 23.4519L9.6034 34.6448C10.1369 30.0255 11.204 20.1473 11.204 17.5889C11.204 14.3909 13.3381 11.1929 18.6733 11.1929C22.9415 11.1929 43.571 13.3249 53.3522 14.3909V1.59899C40.3699 1.06599 13.4448 0 9.6034 0C4.8017 0 0 0.532997 0 5.32997V23.4519Z"
                transform="translate(62.0028 83)" fill="#F05A5A" stroke="#F05A5A" strokeWidth={state.items[0][0] ? 10 : 0} />
              {/* Active */}
              <use xlinkHref={`#mark_0-${ getActive(0) || 0 }`} />
            </g>
          }
        </g>
      </Svg>
    </Fragment>
  )
}

export default MapsMarks

